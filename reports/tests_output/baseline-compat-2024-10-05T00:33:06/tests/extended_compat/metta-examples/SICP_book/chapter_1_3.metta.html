<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2024-10-05 00:53:37+00:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]
P;HTML|
;           (set_option_value  prolog false)

P;HTML|
;           (set_option_value  compat auto)

P;HTML|
;           (set_option_value  compatio true)
P;HTML|
;            (is_cmd_option  prescan halt --halt=true true)
P;HTML|
;            (set_option_value  halt true)
P;HTML|
;            (is_cmd_option  prescan stdin --stdin=tty tty)
P;HTML|
;             (set_option_value  stdin tty)
P;HTML|
;            (is_cmd_option  prescan stdout --stdout=tty tty)
P;HTML|
;             (set_option_value  stdout tty)
P;HTML|
;            (is_cmd_option  prescan stderr --stderr=tty tty)
P;HTML|
;             (set_option_value  stderr tty)
P;HTML|
;            (set_option_value  prolog false)
P;HTML|
;            (set_option_value  compat auto)
P;HTML|
;            (set_option_value  compatio true)
P;HTML|
;          (is_cmd_option  execute python --python=enable enable)
P;HTML|
;           (set_option_value  python enable)
P;HTML|
;          (is_cmd_option  execute timeout --timeout=40 40)
P;HTML|
;           (set_option_value  timeout 40)
P;HTML|
;           (is_cmd_option  execute output --output=./reports/tests_output/baseline-compat-2024-10-05T00:33:06/ ./reports/tests_output/baseline-compat-2024-10-05T00:33:06/)
P;HTML|
;           (set_option_value  output ./reports/tests_output/baseline-compat-2024-10-05T00:33:06/)
P;HTML|
;           (is_cmd_option  execute html --html true)
P;HTML|
;            (set_option_value  html true)
P;HTML|
;           (is_cmd_option  execute test --test true)
P;HTML|
;            (set_option_value  test true)

; (load_metta_file  &self tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta)
P;HTML|
;                         (track_load_into_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta)
P;HTML|
;                                          (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta)
P;HTML|
;                                           (= 1  "[()]")
P;HTML|
;                                           (= 2  "[()]")
P;HTML|
;                                           (= 3  "[()]")
P;HTML|
;                                           (= 4  "[()]")
P;HTML|
;                                           (= 5  "[()]")
P;HTML|
;                                           (= 6  "[()]")
P;HTML|
;                                           (= 7  "[()]")
P;HTML|
;                                           (= 8  "[()]")
P;HTML|
;                                           (= 9  "[()]")
P;HTML|
;                                           (= 10  "[()]")
P;HTML|
;                                           (= 11  "[()]")
P;HTML|
;                                           (= 12  "[()]")
P;HTML|
;                                           (= 13  "[()]")
P;HTML|
;                                           (= 14  "[()]")
P;HTML|
;                                           (= 15  "[()]")
P;HTML|
;                                           (= 16  "[()]")
P;HTML|
;                                           (= 17  "[()]")
P;HTML|
;                                          (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta)

;;; Note: The following lambdaX type definition is more correct:
;;; (: lambdaX (-> Variable Variable ... $t (-> $a $b ... $t)))
;;; This definition also makes some additional examples work (see below).
;;; But it doesn't prevent interpreter from evaluation of lambda's body
;;; before lambda call is actually made. This is why Atom type
;;; is used instead for the $body argument.
;;; Note: The only reason why different definitions of lambdaX are needed is
;;; that we would like to make lambda's interchangeable with other functions.
;;; Otherwise we could define universal lambda like this:
;;; (= ((lambda ; $vars $body) $vals) (let $vars $vals $body))
;;; and use it like this:
;;; (let $sum (lambda ($a $b $c) (+ (+ $a $b) $c)) ($sum (1 2 3))
;;; Note: quote is used in lambda implementations below to prevent $body to be
;;; evaluated inside let.
;;; Needed for putting lambda functions as input to functions
<span class="ansi38-255165000"
>  (: lambda1 
    (-> Variable Atom 
      (-> $a $t)))
</span><span class="ansi38-255165000"
>  (= 
    ( (lambda1 $var $body) $val) 
    (let 
      (quote ($v $b)) 
      (sealed 
        ($var) 
        (quote ($var $body))) 
      (let 
        (quote $v) 
        (quote $val) $b)))
</span>;;; For lambda without any input
<span class="ansi38-255165000"
>  (: lambda0 
    (-> Atom 
      (-> $t)))
</span><span class="ansi38-255165000"
>  (= 
    ( (lambda0 $body)) $body)
</span>;;; For lambda with two inputs
<span class="ansi38-255165000"
>  (: lambda2 
    (-> Variable Variable Atom 
      (-> $a $b $t)))
</span><span class="ansi38-255165000"
>  (= 
    ( (lambda2 $var1 $var2 $body) $val1 $val2) 
    (let 
      (quote ($v1 $v2 $b)) 
      (sealed 
        ($var1 $var2) 
        (quote ($var1 $var2 $body))) 
      (let 
        (quote ($v1 $v2)) 
        (quote ($val1 $val2)) $b)))
</span>;;; For lambda with three inputs. But actually we will use it to bypass recursive limitation while
;;; defining function using let
<span class="ansi38-255165000"
>  (: lambda3 
    (-> Variable Variable Variable Atom 
      (-> $a $b $c $t)))
</span><span class="ansi38-255165000"
>  (= 
    ( (lambda3 $var1 $var2 $var3 $body) $val1 $val2 $val3) 
    (let 
      (quote ($v1 $v2 $v3 $b)) 
      (sealed 
        ($var1 $var2 $var3) 
        (quote ($var1 $var2 $var3 $body))) 
      (let 
        (quote ($v1 $v2 $v3)) 
        (quote ($val1 $val2 $val3)) $b)))
</span>;;; Sum from $a to $b with pre-defined transition from $a to $(a+1) $next and function $term applied to $a
<span class="ansi38-255165000"
>  (= 
    (sum $term $a $next $b) 
    (if 
      (> $a $b) 0 
      (+ 
        ($term $a) 
        (sum $term 
          ($next $a) $next $b))))
</span><span class="ansi38-255165000"
>  (= 
    (sqr $x) 
    (* $x $x))
</span>;;; Cube can't be defined as (* $x $x $x) as in Scheme
<span class="ansi38-255165000"
>  (= 
    (cube $x) 
    (* $x 
      (sqr $x)))
</span>;;; Convenient functions
<span class="ansi38-255165000"
>  (= 
    (inc $x) 
    (+ $x 1))
</span><span class="ansi38-255165000"
>  (= 
    (dec $x) 
    (- $x 1))
</span>;;; Sum all cubes values from $a to $b. Here $term is Cube and $next is just Inc
<span class="ansi38-255165000"
>  (= 
    (sum-cubes $a $b) 
    (sum cube $a inc $b))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (sum-cubes 1 10) 3025)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.01"
>;; SICP-BOOK.CHAPTER-1-3.01</h3>
; 
; EVAL TEST
; took 2.92 seconds.

  !(assertEqual 
    (sum-cubes 1 10) 3025)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025 3025) 
      (3025)))
</span>
Deterministic: ()
()]
<span class="ansi38-255165000"
>  (= 
    (identity $x) $x)
</span><span class="ansi38-255165000"
>  (= 
    (sum-integers $a $b) 
    (sum identity $a inc $b))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (sum-integers 1 10) 55)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.02"
>;; SICP-BOOK.CHAPTER-1-3.02</h3>
; 
; EVAL TEST
; took 0.010 secs. (10.04 milliseconds) 

  !(assertEqual 
    (sum-integers 1 10) 55)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (55) 
      (55)))
</span>
Deterministic: ()
()]
<span class="ansi38-255165000"
>  (= 
    (pi-sum $a $b) 
    (sum 
      (lambda1 $x 
        (/ 1.0 
          (* $x 
            (+ $x 2)))) $a 
      (lambda1 $x 
        (+ $x 4)) $b))
</span>;;; To get more precise pi-value we need more iterations (in SICP book 1000 is used). But metta is currently slower than
;;; scheme so in sake of performance let ~3.10 be our pi-value
<span class="ansi38-013099040"
>  !(assertEqual 
    (* 8 
      (pi-sum 1 50)) 3.1031453128860114)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.03"
>;; SICP-BOOK.CHAPTER-1-3.03</h3>
; 
; EVAL TEST
; took 0.111 secs. (111.01 milliseconds) 

  !(assertEqual 
    (* 8 
      (pi-sum 1 50)) 3.1031453128860114)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (3.1031453128860114 3.1031453128860114) 
      (3.1031453128860114)))
</span>
Deterministic: ()
()]
<span class="ansi38-255165000"
>  (= 
    (integral $f $a $b $dx) 
    (* 
      (sum $f 
        (+ $a 
          (/ $dx 2)) 
        (lambda1 $x 
          (+ $x $dx)) $b) $dx))
</span>;;; Once again, in sake of performance, 0.1 is used (not 0.01 or 0.001 as in book)
<span class="ansi38-013099040"
>  !(assertEqual 
    (integral cube 0 1 0.1) 0.24874999999999994)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.04"
>;; SICP-BOOK.CHAPTER-1-3.04</h3>
; 
; EVAL TEST
; took 4.26 seconds.

  !(assertEqual 
    (integral cube 0 1 0.1) 0.24874999999999994)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994 0.24874999999999994) 
      (0.24874999999999994)))
</span>
Deterministic: ()
()]
;;; Exercise 1.29.
;;;
;;; Simpson's Rule is a more accurate method of numerical integration than the method
;;; illustrated above. Using Simpson's Rule, the integral of a function f between a and b is approximated as
;;;
;;; S|a,b of f =  h/3[y0 + 4y1 + 2y2 + 4y3 + 2y4 + ... + 2yn-2 + 4yn-1 + yn]
;;;
;;; where h = (b - a)/n, for some even integer n, and yk = f(a + kh).
;;; (Increasing n increases the accuracy of the approximation.)
;;; Define a procedure that takes as arguments f, a, b, and n and returns the value of the integral,
;;; computed using Simpson's Rule. Use your procedure to integrate cube between 0 and 1
;;; (with n = 100 and n = 1000), and compare the results to those of the integral procedure shown ab
<span class="ansi38-255165000"
>  (= 
    (inc2 $x) 
    (+ $x 2))
</span>;;; Since metta currently doesn't support '+', '*' etc with 3+ parameters:
<span class="ansi38-255165000"
>  (= 
    (p4 $a $b $c $d) 
    (+ 
      (+ $a $b) 
      (+ $c $d)))
</span><span class="ansi38-255165000"
>  (= 
    (p3 $a $b $c) 
    (+ 
      (+ $a $b) $c))
</span><span class="ansi38-255165000"
>  (= 
    (integral-simpson $f $a $b $n) 
    (let $func-h 
      (lambda0 (/ (- $b $a) $n)) 
      (let $element-y 
        (lambda1 $x 
          ($f (+ $a (* $x ($func-h))))) 
        (/ 
          (* 
            ($func-h) 
            (p4 
              ($element-y 0) 
              ($element-y $n) 
              (* 4 
                (sum $element-y 1 inc2 
                  (dec $n))) 
              (* 2 
                (sum $element-y 2 inc2 
                  (dec $n))))) 3))))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (integral-simpson cube 0 1 10) 0.25)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.05"
>;; SICP-BOOK.CHAPTER-1-3.05</h3>
; 
; EVAL TEST
; took 0.267 secs. (266.97 milliseconds) 

  !(assertEqual 
    (integral-simpson cube 0 1 10) 0.25)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (0.25 0.25 0.25 0.25) 
      (0.25)))
</span>
Deterministic: ()
()]
;;; -----------------------End of Exercise 1.29----------------------------
;;; Exercise 1.30.
;;;
;;; The sum procedure above generates a linear recursion.
;;; The procedure can be rewritten so that the sum is performed iteratively.
;;; This variant unfortunately doesnt work since we're calling $iter inside its definition.
;;;(= (sum-iter $term $a $next $b) (let $iter (lambda2 $a $result
;;;                                        (if (> $a $b) $result ($iter ($next $a) (+ $result ($term $a)))))
;;;                                        ($iter $a 0)))
;;; and thus we will use lambda3 to bypass it
<span class="ansi38-255165000"
>  (= 
    (isum $term $a $next $b) 
    (let $iter 
      (lambda3 $z $result $self 
        (if 
          (> $z $b) $result 
          ($self 
            ($next $z) 
            (+ $result 
              ($term $z)) $self))) 
      ($iter $a 0 $iter)))
</span><span class="ansi38-255165000"
>  (= 
    (isum-cubes $a $b) 
    (isum cube $a inc $b))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (sum-cubes 1 10) 
    (isum-cubes 1 10))

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-3.06"
>;; SICP-BOOK.CHAPTER-1-3.06</h3>

Script done on 2024-10-05 00:54:17+00:00 [COMMAND_EXIT_CODE="143"]

</pre>
</body>

</html>
\033[1;33mCompleted (EXITCODE=143) Under 40 seconds: ./mettalog '--output=./reports/tests_output/baseline-compat-2024-10-05T00:33:06/' --timeout=40 --html --repl=false  --test "tests/extended_compat/metta-examples/SICP_book/chapter_1_3.metta" --halt=true\033[0m
