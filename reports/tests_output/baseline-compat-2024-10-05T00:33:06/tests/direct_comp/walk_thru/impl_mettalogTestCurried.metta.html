<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi32 { color: #00aa00; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2024-10-05 01:47:09+00:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]
P;HTML|
;           (set_option_value  prolog false)

P;HTML|
;           (set_option_value  compat auto)

P;HTML|
;           (set_option_value  compatio true)
P;HTML|
;            (is_cmd_option  prescan halt --halt=true true)
P;HTML|
;             (set_option_value  halt true)
P;HTML|
;            (is_cmd_option  prescan stdin --stdin=tty tty)
P;HTML|
;             (set_option_value  stdin tty)
P;HTML|
;            (is_cmd_option  prescan stdout --stdout=tty tty)
P;HTML|
;             (set_option_value  stdout tty)
P;HTML|
;            (is_cmd_option  prescan stderr --stderr=tty tty)
P;HTML|
;             (set_option_value  stderr tty)
P;HTML|
;            (set_option_value  prolog false)
P;HTML|
;            (set_option_value  compat auto)
P;HTML|
;            (set_option_value  compatio true)
P;HTML|
;          (is_cmd_option  execute python --python=enable enable)
P;HTML|
;           (set_option_value  python enable)
P;HTML|
;          (is_cmd_option  execute timeout --timeout=40 40)
P;HTML|
;           (set_option_value  timeout 40)
P;HTML|
;           (is_cmd_option  execute output --output=./reports/tests_output/baseline-compat-2024-10-05T00:33:06/ ./reports/tests_output/baseline-compat-2024-10-05T00:33:06/)
P;HTML|
;           (set_option_value  output ./reports/tests_output/baseline-compat-2024-10-05T00:33:06/)
P;HTML|
;           (is_cmd_option  execute html --html true)
P;HTML|
;            (set_option_value  html true)
P;HTML|
;           (is_cmd_option  execute compile --compile=false false)
P;HTML|
;            (set_option_value  compile false)
P;HTML|
;           (is_cmd_option  execute test --test true)
P;HTML|
;            (set_option_value  test true)

; (load_metta_file  &self tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta)
P;HTML|
;                          (track_load_into_file  /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta)
P;HTML|
;                                          (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta.answers /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta)
P;HTML|
;                                           (= 1  "[()]")
P;HTML|
;                                           (= 2  "[()]")
P;HTML|
;                                           (= 3  "[()]")
P;HTML|
;                                           (= 4  "[()]")
P;HTML|
;                                           (= 5  "[()]")
P;HTML|
;                                           (= 6  "[()]")
P;HTML|
;                                           (= 7  "[()]")
P;HTML|
;                                           (= 8  "[(), (), ()]")
P;HTML|
;                                           (= 9  "[()]")
P;HTML|
;                                           (= 10  "[(\"loading succAtoms into kb2\")]")
P;HTML|
;                                           (= 11  "[()]")
P;HTML|
;                                           (= 12  "[(), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), (), ()]")
P;HTML|
;                                           (= 13  "[()]")
P;HTML|
;                                           (= 14  "[]")
P;HTML|
;                                           (= 15  "[()]")
P;HTML|
;                                           (= 16  "[()]")
P;HTML|
;                                           (= 17  "[()]")
P;HTML|
;                                           (= 18  "[()]")
P;HTML|
;                                           (= 19  "0.11user 0.00system 0:00.12elapsed 99%CPU (0avgtext+0avgdata 43524maxresident)k")
P;HTML|
;                                           (= 19  "0inputs+0outputs (0major+7639minor)pagefaults 0swaps")
P;HTML|
;                                           (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta.answers /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta)

;;;;;;;;;;;
;;;; Nat ;;
;;;;;;;;;;;
;;;; Define Nat
<span class="ansi38-255165000"
>  (: Nat Type)
</span><span class="ansi38-255165000"
>  (: Z Nat)
</span><span class="ansi38-255165000"
>  (: S 
    (-> Nat Nat))
</span>;;;; Define <=
<span class="ansi38-255165000"
>  (: <= 
    (-> $a $a Bool))
</span><span class="ansi38-255165000"
>  (= 
    (<= $x $y) 
    (or 
      (< $x $y) 
      (== $x $y)))
</span>;;;; Define cast functions between Nat and Number
<span class="ansi38-255165000"
>  (: fromNumber 
    (-> Number Nat))
</span><span class="ansi38-255165000"
>  (= 
    (fromNumber $n) 
    (if 
      (<= $n 0) Z 
      (S (fromNumber (- $n 1)))))
</span><span class="ansi38-255165000"
>  (: fromNat 
    (-> Nat Number))
</span><span class="ansi38-255165000"
>  (= 
    (fromNat Z) 0)
</span><span class="ansi38-255165000"
>  (= 
    (fromNat (S $k)) 
    (+ 1 
      (fromNat $k)))
</span>;;;; Define max
<span class="ansi38-255165000"
>  (: max 
    (-> $a $a $a))
</span><span class="ansi38-255165000"
>  (= 
    (max $x $y) 
    (if 
      (> $x $y) $x $y))
</span>;;;; Define min
<span class="ansi38-255165000"
>  (: min 
    (-> $a $a $a))
</span><span class="ansi38-255165000"
>  (= 
    (min $x $y) 
    (if 
      (< $x $y) $x $y))
</span>;;;; Tuple count grounded python function
;;;;!(extend-py! ../utils/helper.py)
;;;; This is very slow, use the grounded python function instead
<span class="ansi38-255165000"
>  (= 
    (tuple-count $tuple) 
    (if 
      (== $tuple ()) 0 
      (+ 1 
        (tuple-count (cdr-atom $tuple)))))
</span><span class="ansi38-013099040"
>  !(bind! &specializations 
    (new-space))

</span>

Deterministic: ()
[()]
<span class="ansi38-013099040"
>  !(bind! &abstractions 
    (new-space))

</span>

Deterministic: ()
[()]
;;;; Initialization
<span class="ansi38-255165000"
>  (= 
    (init-miner $db $msup $highsurp) 
    (superpose ((extract-valuation $db) (add-atom &self (= (refdb) $db)) (add-atom &self (= (msNat) (fromNumber $msup))) (add-atom &self (= (highsurp) $highsurp)))))
</span>;;;; Search for Triplets in DB 
;;;; collect valuation sets and generate specializations
<span class="ansi38-255165000"
>  (= 
    (extract-valuation $db) 
    (match $db 
      ($link $x $y) 
      (superpose ((build-specialization ($link $x (VarIdx (S Z)))) (build-specialization ($link (VarIdx Z) $y)) (add-abstractions ($link (VarIdx Z) (VarIdx (S Z))))))))
</span><span class="ansi38-255165000"
>  (= 
    (build-specialization $sp) 
    (case 
      (match &specializations $sp $sp) 
      ( (%void% (add-atom &specializations $sp)))))
</span><span class="ansi38-255165000"
>  (= 
    (add-abstractions $aptrn) 
    (case 
      (match &abstractions $aptrn $aptrn) 
      ( (%void% (add-atom &abstractions $aptrn)))))
</span>;;;; Get unique links
<span class="ansi38-255165000"
>  (= 
    (get-links) 
    (match &abstractions 
      ($link $x $y) $link))
</span>;;;; Get abstract patterns
<span class="ansi38-255165000"
>  (= 
    (abstract-patterns) 
    (match &abstractions $aptrn $aptrn))
</span>;;;; Specialize a pattern
<span class="ansi38-255165000"
>  (= 
    (specialize $link) 
    (match &specializations 
      ($link $x $y) 
      ($link $x $y)))
</span>;;;; all Specializations
<span class="ansi38-255165000"
>  (= 
    (all-specialization) 
    (match &specializations $x $x))
</span>;;;; Todo: implement Debruijn index
;;;; Define DeBruijn Index
<span class="ansi38-255165000"
>  (: DeBruijn Type)
</span><span class="ansi38-255165000"
>  (: VarIdx 
    (-> Nat DeBruijn))
</span><span class="ansi38-255165000"
>  (= 
    (fromDeb $pattern $Xvar $Yvar) 
    (case 
      ( (get-metatype $pattern) $pattern) 
      ( ( (Variable $) $pattern) 
        ( ($ $pattern) (let ($link $a $b) $pattern (case ($link (get-type $a) (get-type $b)) ((($link DeBruijn %Undefined%) ($link $Xvar $b)) (($link %Undefined% DeBruijn) ($link $a $Yvar)) (($link DeBruijn DeBruijn) ($link $Xvar $Yvar)) ($ $pattern))))) 
        ($ $pattern))))
</span><span class="ansi38-255165000"
>  (= 
    (fromDebruijn $ptrn $Xvar $Yvar) 
    (case $ptrn 
      ( ( (, $p1 $p2) (, (fromDeb $p1 $Xvar $Yvar) (fromDeb $p2 $Xvar $Yvar))) 
        ( (, $p1 $p2 $p3) (, (fromDeb $p1 $Xvar $Yvar) (fromDeb $p2 $Xvar $Yvar) (fromDeb $p3 $Xvar $Yvar))) 
        ($ (fromDeb $ptrn $Xvar $Yvar)))))
</span>;;; Count the number of instances of a given pattern
<span class="ansi38-255165000"
>  (= 
    (count $pattern) 
    (let $result 
      (case 
        (match &self 
          (= 
            (refdb) $db) $db) 
        ( ($db (let $dptrn (fromDebruijn $pattern $Xvar $Yvar) (collapse (match $db $dptrn $dptrn)))) (%void% ()))) 
      (tuple-count $result)))
</span><span class="ansi38-255165000"
>  (= 
    (countNat $pattern) 
    (fromNumber (count $pattern)))
</span>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Knowledge and rule base ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Test
;;; !(import! &db ../data/sample.metta)
<span class="ansi38-013099040"
>  !(bind! &db 
    (new-space))

</span>

Deterministic: ()
[()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &db 
    (Inheritance B A))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance B A)) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.01"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.01</h3>
<span class="ansi38-255165000"
>  (Inheritance B A)
</span>; 
; EVAL TEST
; took 0.002 secs. (1.80 milliseconds) 

  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance B A)) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &db 
    (Inheritance C A))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance C A)) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.02"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.02</h3>
<span class="ansi38-255165000"
>  (Inheritance C A)
</span>; 
; EVAL TEST
; took 0.002 secs. (1.92 milliseconds) 

  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance C A)) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &db 
    (Inheritance D E))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance D E)) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.03"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.03</h3>
<span class="ansi38-255165000"
>  (Inheritance D E)
</span>; 
; EVAL TEST
; took 0.002 secs. (1.86 milliseconds) 

  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance D E)) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &db 
    (Inheritance C E))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance C E)) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.04"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.04</h3>
<span class="ansi38-255165000"
>  (Inheritance C E)
</span>; 
; EVAL TEST
; took 0.001 secs. (1.31 milliseconds) 

  !(assertEqualToResult 
    (add-atom &db 
      (Inheritance C E)) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
;;;; Parameters
<span class="ansi38-255165000"
>  (= 
    (highsurp) 0.8)
</span><span class="ansi38-255165000"
>  (= 
    (ms) 1)
</span><span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(init-miner &db 
    (ms) 
    (highsurp))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (init-miner &db 
      (ms) 
      (highsurp)) 
    (() () ()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.05"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.05</h3>
<span class="ansi38-255165000"
>  (Inheritance B 
    (VarIdx (S Z)))
</span><span class="ansi38-255165000"
>  (Inheritance 
    (VarIdx Z) A)
</span><span class="ansi38-255165000"
>  (Inheritance 
    (VarIdx Z) 
    (VarIdx (S Z)))
</span><span class="ansi38-255165000"
>  (Inheritance C 
    (VarIdx (S Z)))
</span><span class="ansi38-255165000"
>  (Inheritance D 
    (VarIdx (S Z)))
</span><span class="ansi38-255165000"
>  (Inheritance 
    (VarIdx Z) E)
</span><span class="ansi38-255165000"
>  (= 
    (refdb) &db)
</span><span class="ansi38-255165000"
>  (= 
    (msNat) 
    (fromNumber 1))
</span><span class="ansi38-255165000"
>  (= 
    (highsurp) 0.8)
</span>; 
; EVAL TEST
; took 0.026 secs. (26.24 milliseconds) 

  !(assertEqualToResult 
    (init-miner &db 
      (ms) 
      (highsurp)) 
    (() () ()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (() () () () () () () () () () () () () () ()) 
      (() () ())))
</span>
Deterministic: ()
()]
<span class="ansi38-013099040"
>  !(bind! &kb 
    (new-space))

</span>

Deterministic: ()
[()]
;;;; Import a lookup file for ⍃
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !("loading succAtoms into kb2")
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    ("loading succAtoms into kb2") 
    ( ("loading succAtoms into kb2")))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.06"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.06</h3>
; 
; EVAL TEST
; took 0.000134 secs. (133.95 microseconds) 

  !(assertEqualToResult 
    ("loading succAtoms into kb2") 
    ( ("loading succAtoms into kb2")))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      ( ("loading succAtoms into kb2")) 
      ( ("loading succAtoms into kb2"))))
</span>
Deterministic: ()
()]
<span class="ansi38-013099040"
>  !(import! &kb2 succAxiom)

</span>[P;HTML|
;                                           (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/succAxiom.metta.answers /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/succAxiom.metta)
P;HTML|
;                                           (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/succAxiom.metta.answers /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/succAxiom.metta)

;;; !(expected)
;;;!(let $expected (expected)
;;;  (assertEqualToResult
;;;   (let $aptrn (Inheritance (VarIdx Z) (VarIdx (S Z)))
;;;	  (fc (: (supportwitness $aptrn) 
;;;			 (supportOf $aptrn (countNat $aptrn))) (fromNumber 8))) 
;;;	$expected))
<span class="ansi38-013099040"
>  !(pragma! load silent)

</span>P;HTML|
;                                           (set_option_value  load silent)
P;HTML|
;                                           (set_debug  load false)


Deterministic: ()

Last Result(2): ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(match &kb2 $1 
    (add-atom &kb $1))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (match &kb2 $1 
      (add-atom &kb $1)) 
    (() () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () ()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.07"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.07</h3>
; 
; EVAL TEST
; took 0.570 secs. (569.59 milliseconds) 

  !(assertEqualToResult 
    (match &kb2 $1 
      (add-atom &kb $1)) 
    (() () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () ()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (() () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () ()) 
      (() () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () () ())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(let* 
    ( ($mn (msNat)) ($atom (: ms_Threshold (ms_threshold $mn)))) 
    (add-atom &kb $atom))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (let* 
      ( ($mn (msNat)) ($atom (: ms_Threshold (ms_threshold $mn)))) 
      (add-atom &kb $atom)) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.08"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.08</h3>
; 
; EVAL TEST
; took 0.008 secs. (8.18 milliseconds) 

  !(assertEqualToResult 
    (let* 
      ( ($mn (msNat)) ($atom (: ms_Threshold (ms_threshold $mn)))) 
      (add-atom &kb $atom)) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(let* 
    ( ( ($link $a $b) (abstract-patterns)) 
      ($aptrn ($link (VarIdx Z) (VarIdx (S Z)))) 
      ($sptrn (specialize $link)) 
      ($atom (: (sp_witness $sptrn) (specializationOf $sptrn $aptrn)))) 
    (add-atom &kb $atom))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (let* 
      ( ( ($link $a $b) (abstract-patterns)) 
        ($aptrn ($link (VarIdx Z) (VarIdx (S Z)))) 
        ($sptrn (specialize $link)) 
        ($atom (: (sp_witness $sptrn) (specializationOf $sptrn $aptrn)))) 
      (add-atom &kb $atom)) ())

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.09"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.09</h3>
; 
; EVAL TEST
; took 0.036 secs. (35.53 milliseconds) 

  !(assertEqualToResult 
    (let* 
      ( ( ($link $a $b) (abstract-patterns)) 
        ($aptrn ($link (VarIdx Z) (VarIdx (S Z)))) 
        ($sptrn (specialize $link)) 
        ($atom (: (sp_witness $sptrn) (specializationOf $sptrn $aptrn)))) 
      (add-atom &kb $atom)) ())

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (() () () () ()) ()))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &kb 
    (: minsupport 
      (-> 
        (supportOf $ptrn $cnt) 
        (-> 
          (ms_threshold $ms) 
          (-> 
            (⍃ $ms $cnt) 
            (minsup $ptrn))))))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &kb 
      (: minsupport 
        (-> 
          (supportOf $ptrn $cnt) 
          (-> 
            (ms_threshold $ms) 
            (-> 
              (⍃ $ms $cnt) 
              (minsup $ptrn)))))) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.10"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.10</h3>
; 
; EVAL TEST
; took 0.006 secs. (6.27 milliseconds) 

  !(assertEqualToResult 
    (add-atom &kb 
      (: minsupport 
        (-> 
          (supportOf $ptrn $cnt) 
          (-> 
            (ms_threshold $ms) 
            (-> 
              (⍃ $ms $cnt) 
              (minsup $ptrn)))))) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &kb 
    (: apriori-rule 
      (-> 
        (minsup $aptrn) 
        (-> 
          (specializationOf $sptrn $aptrn) 
          (supportOf $sptrn 
            (countNat $sptrn))))))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &kb 
      (: apriori-rule 
        (-> 
          (minsup $aptrn) 
          (-> 
            (specializationOf $sptrn $aptrn) 
            (supportOf $sptrn 
              (countNat $sptrn)))))) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.11"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.11</h3>
; 
; EVAL TEST
; took 0.006 secs. (6.27 milliseconds) 

  !(assertEqualToResult 
    (add-atom &kb 
      (: apriori-rule 
        (-> 
          (minsup $aptrn) 
          (-> 
            (specializationOf $sptrn $aptrn) 
            (supportOf $sptrn 
              (countNat $sptrn)))))) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>  !(add-atom &kb 
    (: support-cnj 
      (-> 
        (minsup $ptrn1) 
        (-> 
          (minsup $ptrn2) 
          (supportOf 
            (, $ptrn1 $ptrn2) 
            (countNat (, $ptrn1 $ptrn2)))))))
</span>;; To unit test case:
<span class="ansi38-013099040"
>  !(assertEqualToResult 
    (add-atom &kb 
      (: support-cnj 
        (-> 
          (minsup $ptrn1) 
          (-> 
            (minsup $ptrn2) 
            (supportOf 
              (, $ptrn1 $ptrn2) 
              (countNat (, $ptrn1 $ptrn2))))))) 
    (()))

</span>[

;<h3 id="WALK-THRU.IMPL-METTALOGTESTCURRIED.12"
>;; WALK-THRU.IMPL-METTALOGTESTCURRIED.12</h3>
; 
; EVAL TEST
; took 0.006 secs. (6.28 milliseconds) 

  !(assertEqualToResult 
    (add-atom &kb 
      (: support-cnj 
        (-> 
          (minsup $ptrn1) 
          (-> 
            (minsup $ptrn2) 
            (supportOf 
              (, $ptrn1 $ptrn2) 
              (countNat (, $ptrn1 $ptrn2))))))) 
    (()))

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (()) 
      (())))
</span>
Deterministic: ()
()]
<span class="ansi38-013099040"
>  !(pragma! test True)

</span>[P;HTML|
;                                           (set_option_value  test True)


Deterministic: ()
()]
<span class="ansi32"
>% 3,364,766 inferences, 1.509 CPU in 1.509 seconds (100% CPU, 2229320 Lips)
</span>P;HTML|
;                          (= /home/runner/work/metta-wam/metta-wam/tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta  0)
<span class="ansi1"
>LoonIt Report
</span>------------
<span class="ansi32"
>Successes: 12
</span><span class="ansi32"
>Failures: 0
</span><br/> <a href="#" onclick="window.history.back(); return false;"
>Return to summaries</a><br/>
P;HTML|
;            (is_cmd_option  execute halt --halt=true true)
P;HTML|
;            (set_option_value  halt true)
P;HTML|
;            (is_cmd_option  execute stdin --stdin=tty tty)
P;HTML|
;             (set_option_value  stdin tty)
P;HTML|
;            (is_cmd_option  execute stdout --stdout=tty tty)
P;HTML|
;             (set_option_value  stdout tty)
P;HTML|
;            (is_cmd_option  execute stderr --stderr=tty tty)
P;HTML|
;             (set_option_value  stderr tty)
P;HTML|
;           (set_option_value  prolog false)
P;HTML|
;           (set_option_value  compat auto)
P;HTML|
;           (set_option_value  compatio true)

Script done on 2024-10-05 01:47:14+00:00 [COMMAND_EXIT_CODE="7"]

</pre>
</body>

</html>
\033[0;32mCompleted successfully (EXITCODE=7) Under 40 seconds: ./mettalog '--output=./reports/tests_output/baseline-compat-2024-10-05T00:33:06/' --timeout=40 --html --repl=false  --compile=false --test "tests/direct_comp/walk_thru/impl_mettalogTestCurried.metta" --halt=true\033[0m
