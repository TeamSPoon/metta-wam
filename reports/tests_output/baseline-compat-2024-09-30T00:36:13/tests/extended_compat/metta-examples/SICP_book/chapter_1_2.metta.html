<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi36 { color: #00aaaa; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2024-09-30 00:56:10+00:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]
P;HTML|
;           (set_option_value  prolog false)

P;HTML|
;           (set_option_value  compat auto)

P;HTML|
;           (set_option_value  compatio true)
P;HTML|
;            (is_cmd_option  prescan halt --halt=true true)
P;HTML|
;            (set_option_value  halt true)
P;HTML|
;            (is_cmd_option  prescan stdin --stdin=tty tty)
P;HTML|
;             (set_option_value  stdin tty)
P;HTML|
;            (is_cmd_option  prescan stdout --stdout=tty tty)
P;HTML|
;             (set_option_value  stdout tty)
P;HTML|
;            (is_cmd_option  prescan stderr --stderr=tty tty)
P;HTML|
;             (set_option_value  stderr tty)
P;HTML|
;            (set_option_value  prolog false)
P;HTML|
;            (set_option_value  compat auto)
P;HTML|
;            (set_option_value  compatio true)
P;HTML|
;          (is_cmd_option  execute python --python=enable enable)
P;HTML|
;           (set_option_value  python enable)
P;HTML|
;          (is_cmd_option  execute timeout --timeout=40 40)
P;HTML|
;           (set_option_value  timeout 40)
P;HTML|
;           (is_cmd_option  execute output --output=./reports/tests_output/baseline-compat-2024-09-30T00:36:13/ ./reports/tests_output/baseline-compat-2024-09-30T00:36:13/)
P;HTML|
;           (set_option_value  output ./reports/tests_output/baseline-compat-2024-09-30T00:36:13/)
P;HTML|
;           (is_cmd_option  execute html --html true)
P;HTML|
;            (set_option_value  html true)
P;HTML|
;           (is_cmd_option  execute test --test true)
P;HTML|
;            (set_option_value  test true)

; (load_metta_file  &self tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta)
P;HTML|
;                         (track_load_into_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta)
P;HTML|
;                                          (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta)
P;HTML|
;                                           (= 1  "[]")
P;HTML|
;                                           (= 2  "[()]")
P;HTML|
;                                           (= 3  "[()]")
P;HTML|
;                                           (= 4  "[()]")
P;HTML|
;                                           (= 5  "[()]")
P;HTML|
;                                           (= 6  "[()]")
P;HTML|
;                                           (= 7  "[()]")
P;HTML|
;                                           (= 8  "[()]")
P;HTML|
;                                           (= 9  "[()]")
P;HTML|
;                                           (= 10  "[()]")
P;HTML|
;                                           (= 11  "[()]")
P;HTML|
;                                           (= 12  "[()]")
P;HTML|
;                                           (= 13  "[()]")
P;HTML|
;                                           (= 14  "[()]")
P;HTML|
;                                           (= 15  "[()]")
P;HTML|
;                                           (= 16  "[()]")
P;HTML|
;                                           (= 17  "[()]")
P;HTML|
;                                           (= 18  "[()]")
P;HTML|
;                                           (= 19  "[()]")
P;HTML|
;                                           (= 20  "[()]")
P;HTML|
;                                           (= 21  "[()]")
P;HTML|
;                                           (= 22  "[()]")
P;HTML|
;                                           (= 23  "[()]")
P;HTML|
;                                           (= 24  "[()]")
P;HTML|
;                                           (= 25  "[()]")
P;HTML|
;                                          (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta)

;;; Extension is used for several examples which requires random and current-inexact-milliseconds functions from Scheme
<span class="ansi38-013099040"
>  !(import! &self additional_funcs)

</span>[P;HTML|
;                                           (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/additional_funcs.py.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/additional_funcs.py)
P;HTML|
;                                           (load_answer_file  /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/additional_funcs.py.answers /home/runner/work/metta-wam/metta-wam/tests/extended_compat/metta-examples/SICP_book/additional_funcs.py)
<span class="ansi38-255165000"
> from
</span><span class="ansi38-255165000"
> hyperon.atoms
</span><span class="ansi38-255165000"
> import
</span><span class="ansi38-255165000"
> 'OperationAtom,'
</span><span class="ansi38-255165000"
> ValueAtom
</span><span class="ansi38-255165000"
> from
</span><span class="ansi38-255165000"
> hyperon.ext
</span><span class="ansi38-255165000"
> import
</span><span class="ansi38-255165000"
> *
</span><span class="ansi38-255165000"
> import
</span><span class="ansi38-255165000"
> random
</span><span class="ansi38-255165000"
> random.seed
</span><span class="ansi38-255165000"
>  (123)
</span><span class="ansi38-255165000"
> import
</span><span class="ansi38-255165000"
> time
</span><span class="ansi38-255165000"
> import
</span><span class="ansi38-255165000"
> math
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> updateSeed
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> random.seed
</span><span class="ansi38-255165000"
>  (getCurTime ())
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getRandInt
</span><span class="ansi38-255165000"
>  ('start,' end)
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> updateSeed
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> random.randint
</span><span class="ansi38-255165000"
>  ('start,' end)
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getCurTime
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> time.time_ns
</span><span class="ansi38-255165000"
> /
</span><span class="ansi38-255165000"
>  (10 ** 6)
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> quotient
</span><span class="ansi38-255165000"
>  ('x,' y)
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> x
</span><span class="ansi38-255165000"
> //
</span><span class="ansi38-255165000"
> y
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getSqrt
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> math.sqrt
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getAtan
</span><span class="ansi38-255165000"
>  ('x,y=1')
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> math.atan2
</span><span class="ansi38-255165000"
>  ('x,' y)
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getCos
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> math.cos
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> getSin
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
> math.sin
</span><span class="ansi38-255165000"
>  (x)
</span><span class="ansi38-255165000"
> @register_atoms
</span><span class="ansi38-255165000"
> def
</span><span class="ansi38-255165000"
> my_glob_atoms
</span><span class="ansi38-255165000"
> :
</span><span class="ansi38-255165000"
> return
</span><span class="ansi38-255165000"
>  { (randomint! : OperationAtom 
      ("randomint!" , getRandInt) , timems! : OperationAtom 
      ("timems!" , getCurTime) , // : OperationAtom 
      ("//" , quotient) , sqrt : OperationAtom 
      ("sqrt" , getSqrt) , atan : OperationAtom 
      ("atan" , getAtan) , cos : OperationAtom 
      ("cos" , getCos) , sin : OperationAtom 
      ("sin" , getSin) ,) }
</span>
Deterministic: ()
()]
<span class="ansi38-255165000"
>  (= 
    (inc $x) 
    (+ $x 1))
</span><span class="ansi38-255165000"
>  (= 
    (dec $x) 
    (- $x 1))
</span><span class="ansi38-255165000"
>  (= 
    (sqr $x) 
    (* $x $x))
</span>;;; Since +,/,*,- in metta takes only two arguments as input:
<span class="ansi38-255165000"
>  (= 
    (p3 $a $b $c) 
    (+ $a 
      (+ $b $c)))
</span><span class="ansi38-255165000"
>  (= 
    (m3 $a $b $c) 
    (* $a 
      (* $b $c)))
</span>;;; Recursive factorial evaluation
<span class="ansi38-255165000"
>  (= 
    (factorial $n) 
    (if 
      (== $n 1) 1 
      (* $n 
        (factorial (dec $n)))))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (factorial 5) 120)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-2.01"
>;; SICP-BOOK.CHAPTER-1-2.01</h3>
; 
; EVAL TEST
; took 0.025 secs. (24.53 milliseconds) 

  !(assertEqual 
    (factorial 5) 120)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120) 
      (120)))
</span>
Deterministic: ()
()]
;;; Iterative factorial evaluation
<span class="ansi38-255165000"
>  (= 
    (ifactorial $n) 
    (fact-iter 1 1 $n))
</span><span class="ansi38-255165000"
>  (= 
    (fact-iter $product $counter $max-count) 
    (if 
      (> $counter $max-count) $product 
      (fact-iter 
        (* $counter $product) 
        (+ $counter 1) $max-count)))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (ifactorial 5) 120)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-2.02"
>;; SICP-BOOK.CHAPTER-1-2.02</h3>
; 
; EVAL TEST
; took 0.003 secs. (2.74 milliseconds) 

  !(assertEqual 
    (ifactorial 5) 120)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (120) 
      (120)))
</span>
Deterministic: ()
()]
;;; Recursive
<span class="ansi38-255165000"
>  (= 
    (fib $n) 
    (if 
      (== $n 0) 0 
      (if 
        (== $n 1) 1 
        (+ 
          (fib (dec $n)) 
          (fib (- $n 2))))))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (fib 7) 13)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-2.03"
>;; SICP-BOOK.CHAPTER-1-2.03</h3>
; 
; EVAL TEST
; took 0.028 secs. (28.20 milliseconds) 

  !(assertEqual 
    (fib 7) 13)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (13) 
      (13)))
</span>
Deterministic: ()
()]
;;; Iterative
<span class="ansi38-255165000"
>  (= 
    (ifib $n) 
    (fib-iter 1 0 $n))
</span><span class="ansi38-255165000"
>  (= 
    (fib-iter $a $b $count) 
    (if 
      (== $count 0) $b 
      (fib-iter 
        (+ $a $b) $a 
        (- $count 1))))
</span><span class="ansi38-013099040"
>  !(assertEqual 
    (ifib 7) 13)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-2.04"
>;; SICP-BOOK.CHAPTER-1-2.04</h3>
; 
; EVAL TEST
; took 0.004 secs. (3.55 milliseconds) 

  !(assertEqual 
    (ifib 7) 13)

<span class="ansi36"
>  (loonit_success  
    (equal_enough_for_test  
      (13) 
      (13)))
</span>
Deterministic: ()
()]
<span class="ansi38-255165000"
>  (= 
    (count-change $amount) 
    (cc $amount 5))
</span><span class="ansi38-255165000"
>  (= 
    (cc $amount $kinds-of-coins) 
    (if 
      (== $amount 0) 1 
      (if 
        (or 
          (< $amount 0) 
          (== $kinds-of-coins 0)) 0 
        (+ 
          (cc $amount 
            (- $kinds-of-coins 1)) 
          (cc 
            (- $amount 
              (first-denomination $kinds-of-coins)) $kinds-of-coins)))))
</span><span class="ansi38-255165000"
>  (= 
    (first-denomination $kinds-of-coins) 
    (case $kinds-of-coins 
      ( (1 1) 
        (2 5) 
        (3 10) 
        (4 25) 
        (5 50))))
</span>;;; In the book's example 100 is used to call function count-change, but for the sake of performance I've put 20 here.
<span class="ansi38-013099040"
>  !(assertEqual 
    (count-change 20) 9)

</span>[

;<h3 id="SICP-BOOK.CHAPTER-1-2.05"
>;; SICP-BOOK.CHAPTER-1-2.05</h3>

Script done on 2024-09-30 00:56:50+00:00 [COMMAND_EXIT_CODE="143"]

</pre>
</body>

</html>
\033[1;33mCompleted (EXITCODE=143) Under 40 seconds: ./mettalog '--output=./reports/tests_output/baseline-compat-2024-09-30T00:36:13/' --timeout=40 --html --repl=false  --test "tests/extended_compat/metta-examples/SICP_book/chapter_1_2.metta" --halt=true\033[0m
